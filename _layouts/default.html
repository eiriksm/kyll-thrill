<!DOCTYPE html>
<html>
    <head>
      {% if site.env == 'development' %}
      <link rel="stylesheet" href="/styles/main.css">
      <link rel="stylesheet" href="/styles/syntax.css">
      {% else %}
            <style>*{margin:0;padding:0}body,html{height:100%}img{max-width:100%}body{background-color:#FFF;font:18px Helvetica,Arial,sans-serif;color:#111}h1{margin-bottom:1em}p{margin:1em 0}span.date{margin:5px}.highlight{background:#ddd;padding:5px}#content{padding:3% 0}.content{width:98%;margin:0 1%;margin:0 auto}a,a:active,a:visited{text-decoration:none;color:#111;border-bottom:1px #7FDBFF solid}.postlink{padding:5%;display:block;background:#ddd;margin:2px;border:0}.postlink:hover{background-color:#7FDBFF;transition:background-color .3s ease-in-out;-webkit-transition:background-color .3s ease-in-out}footer{margin:3% 1%;padding:1% 5%;text-align:center}header{text-align:center}h1.site-title a{color:#0074D9}.highlight .c{color:#998;font-style:italic}.highlight .err{color:#a61717;background-color:#e3d2d2}.highlight .k,.highlight .o{font-weight:700}.highlight .cm{color:#998;font-style:italic}.highlight .cp{color:#999;font-weight:700}.highlight .c1{color:#998;font-style:italic}.highlight .cs{color:#999;font-weight:700;font-style:italic}.highlight .gd{color:#000;background-color:#fdd}.highlight .gd .x{color:#000;background-color:#faa}.highlight .ge{font-style:italic}.highlight .gr{color:#a00}.highlight .gh{color:#999}.highlight .gi{color:#000;background-color:#dfd}.highlight .gi .x{color:#000;background-color:#afa}.highlight .go{color:#888}.highlight .gp{color:#555}.highlight .gs{font-weight:700}.highlight .gu{color:#aaa}.highlight .gt{color:#a00}.highlight .kc,.highlight .kd,.highlight .kp,.highlight .kr{font-weight:700}.highlight .kt{color:#458;font-weight:700}.highlight .m{color:#099}.highlight .s{color:#d14}.highlight .na{color:teal}.highlight .nb{color:#0086B3}.highlight .nc{color:#458;font-weight:700}.highlight .no{color:teal}.highlight .ni{color:purple}.highlight .ne,.highlight .nf{color:#900;font-weight:700}.highlight .nn{color:#555}.highlight .nt{color:navy}.highlight .nv{color:teal}.highlight .ow{font-weight:700}.highlight .w{color:#bbb}.highlight .mf,.highlight .mh,.highlight .mi,.highlight .mo{color:#099}.highlight .s2,.highlight .sb,.highlight .sc,.highlight .sd,.highlight .se,.highlight .sh,.highlight .si,.highlight .sx{color:#d14}.highlight .sr{color:#009926}.highlight .s1{color:#d14}.highlight .ss{color:#990073}.highlight .bp{color:#999}.highlight .vc,.highlight .vg,.highlight .vi{color:teal}.highlight .il{color:#099}</style>
            {% endif %}
      <meta name="MobileOptimized" content="width">
      <meta name="HandheldFriendly" content="true">
      <meta name="viewport" content="width=device-width">
      <meta name="viewport" content="initial-scale=1">
      <meta http-equiv="cleartype" content="on">
      <title>{{site.title}}</title>
    </head>
    <body>
      <header>
        <h1 class="site-title"><a href="/">{{site.title}}</a></h1>
      </header>
      <div id="content"></div>
      {{content}}
      {% if site.env == 'development' %}
        <script src="/js/lib/mithril.js"></script>
        <script src="/js/src/app.js"></script>
      {% else %}

                <script>!new function(e){function n(o,a,i){if(null!==a&&void 0!==a){var u=w.call(i),c=w.call(a);if(u!=c&&(null!==i&&void 0!==i&&r(i.nodes),i=new a.constructor,i.nodes=[]),"[object Array]"==c){for(var s=[],l=i.length===a.length,d=0;d<a.length;d++){var f=n(o,a[d],i[d]);f.nodes.intact||(l=!1),i[d]=f}if(!l){for(var d=0;d<a.length;d++)s=s.concat(i[d].nodes);for(var m,d=s.length;m=i.nodes[d];d++)null!==m.parentNode&&m.parentNode.removeChild(m);for(var m,d=i.nodes.length;m=s[d];d++)null===m.parentNode&&o.appendChild(m);i.length=a.length,i.nodes=s}}else if("[object Object]"==c){(a.tag!=i.tag||Object.keys(a.attrs).join()!=Object.keys(i.attrs).join())&&r(i.nodes);var m,h=0===i.nodes.length;h?(m=e.document.createElement(a.tag),i={tag:a.tag,attrs:t(m,a.attrs,{}),children:n(m,a.children,i.children),nodes:[m]},o.appendChild(m)):(m=i.nodes[0],t(m,a.attrs,i.attrs),i.children=n(m,a.children,i.children),i.nodes.intact=!0),"[object Function]"==w.call(a.attrs.config)&&a.attrs.config(m,!h)}else{var m;if(0===i.nodes.length){if(a.$trusted){var p=o.lastChild;o.insertAdjacentHTML("beforeend",a),m=p?p.nextSibling:o.firstChild}else m=e.document.createTextNode(a),o.appendChild(m);i="string number boolean".indexOf(typeof a)>-1?new a.constructor(a):a,i.nodes=[m]}else if(i.valueOf()!==a.valueOf()){if(a.$trusted){var v=i.nodes[0],s=[v];if(v){for(;v=v.nextSibling;)s.push(v);r(s);var p=o.lastChild;o.insertAdjacentHTML("beforeend",a),m=p?p.nextSibling:o.firstChild}else o.innerHTML=a}else m=i.nodes[0],o.appendChild(m),m.nodeValue=a;i=new a.constructor(a),i.nodes=[m]}else i.nodes.intact=!0}return i}}function t(e,n,t){for(var r in n){var o=n[r];if(!(r in t)||t[r]!==o){if(t[r]=o,"config"==r)continue;if(0==r.indexOf("on")&&"function"==typeof o&&(o=a(o,e)),"style"==r)for(var i in o)e.style[i]=o[i];else r in e?e[r]=o:e.setAttribute(r,o)}}return t}function r(e){for(var n=0;n<e.length;n++)e[n].parentNode.removeChild(e[n]);e.length=0}function o(e){var n={};for(var t in e)n[t]=e[t];return n}function a(n,t){return function(){m.startComputation();var r=n.apply(t||e,arguments);return m.endComputation(),r}}function i(){if(S=e.performance&&e.performance.now?e.performance.now():(new e.Date).getTime(),S-L>16)m.redraw();else{var n=e.cancelAnimationFrame||e.clearTimeout,t=e.requestAnimationFrame||e.setTimeout;n(N),N=t(m.redraw,0)}}function u(e,n,t){for(var r in n){if(r==t)return!void m.module(e,n[r]);var o=new RegExp("^"+r.replace(/:[^\/]+/g,"([^\\/]+)")+"$");if(o.test(t))return!void t.replace(o,function(){var t=r.match(/:[^\/]+/g),o=[].slice.call(arguments,1,-2);q={};for(var a=0;a<t.length;a++)q[t[a].slice(1)]=o[a];m.module(e,n[r])})}}function c(e){e.preventDefault(),m.route(e.currentTarget.getAttribute("href"))}function s(){"hash"!=m.route.mode&&e.location.hash&&(e.location.hash=e.location.hash)}function l(e){return e}function d(n){var t=e.XDomainRequest?new e.XDomainRequest:new e.XMLHttpRequest;return t.open(n.method,n.url,!0,n.user,n.password),t.onload="function"==typeof n.onload?n.onload:function(){},t.onerror="function"==typeof n.onerror?n.onerror:function(){},t.withCredentials=!0,"function"==typeof n.config&&n.config(t,n),t.send(n.data),t}function f(e,n){var t=[];for(var r in e){var o=n?n+"["+r+"]":r,a=e[r];t.push("object"==typeof a?f(a,o):encodeURIComponent(o)+"="+encodeURIComponent(a))}return t.join("&")}function h(e,n,t){return n&&Object.keys(n).length>0&&("GET"==e.method?e.url=e.url+(e.url.indexOf("?")<0?"?":"&")+f(n):e.data=t(n)),e}function p(e,n){var t=e.match(/:\w+/g);if(t&&n)for(var r=0;r<t.length;r++){var o=t[r].slice(1);e=e.replace(t[r],n[o]),delete n[o]}return e}function v(e){var n=e.then;return function(e,t){var r=n(function(n){return r(e(n))},function(e){return r(t(e))});return r.then=v(r),r}}var g={},w={}.toString,y=/(?:(^|#|\.)([^#\.\[\]]+))|(\[.+?\])/g,C=/\[(.+?)(?:=("|'|)(.+?)\2)?\]/;Mithril=m=function(){var e=arguments,n="[object Object]"==w.call(e[1]),t=n?e[1]:{},r="class"in t?"class":"className",a=g[e[0]];if(void 0===a){g[e[0]]=a={tag:"div",attrs:{}};for(var i,u=[];i=y.exec(e[0]);)if(""==i[1])a.tag=i[2];else if("#"==i[1])a.attrs.id=i[2];else if("."==i[1])u.push(i[2]);else if("["==i[3][0]){var c=C.exec(i[3]);a.attrs[c[1]]=c[3]||!0}u.length>0&&(a.attrs[r]=u.join(" "))}a=o(a),a.attrs=o(a.attrs),a.children=n?e[2]:e[1];for(var s in t)a.attrs[s]=s==r?(a.attrs[s]||"")+" "+t[s]:t[s];return a};var j,b={insertAdjacentHTML:function(n,t){e.document.write(t),e.document.close()},appendChild:function(n){void 0===j&&(j=e.document.createElement("html")),"HTML"==n.nodeName?j=n:j.appendChild(n),e.document.documentElement!==j&&e.document.replaceChild(j,e.document.documentElement)}},T=[],x={};m.render=function(t,r){var o=T.indexOf(t),a=0>o?T.push(t)-1:o,i=t==e.document||t==e.document.documentElement?b:t;x[a]=n(i,r,x[a])},m.trust=function(e){return e=new String(e),e.$trusted=!0,e};var O,A={view:function(){}},E={},S=0,L=0,N=0;m.module=function(e,n){m.startComputation(),O=e,A=n,E=new n.controller,m.endComputation()},m.redraw=function(){m.render(O||e.document,A.view(E)),L=S};var M=0,H=null;m.startComputation=function(){M++},m.endComputation=function(){M=Math.max(M-1,0),0==M&&(i(),H&&(H(),H=null))},m.withAttr=function(e,n){return function(t){n(e in t.currentTarget?t.currentTarget[e]:t.currentTarget.getAttribute(e))}};var R={pathname:"",hash:"#",search:"?"},k=function(){},q={};m.route=function(){if(3==arguments.length){var n=arguments[0],t=arguments[1],r=arguments[2];k=function(e){var o=e.slice(R[m.route.mode].length);u(n,r,o)||m.route(t,!0)};var o="hash"==m.route.mode?"onhashchange":"onpopstate";e[o]=function(){k(e.location[m.route.mode])},H=s,e[o]()}else if(arguments[0].addEventListener){var a=arguments[0],i=arguments[1];i||(a.removeEventListener("click",c),a.addEventListener("click",c))}else if("string"==typeof arguments[0]){var l=arguments[0],d=arguments[1]===!0;e.history.pushState?(H=function(){e.history[d?"replaceState":"pushState"](null,e.document.title,R[m.route.mode]+l),s()},k(R[m.route.mode]+l)):e.location[m.route.mode]=l}},m.route.param=function(e){return q[e]},m.route.mode="search",m.prop=function(e){return function(){return arguments.length&&(e=arguments[0]),e}},m.deferred=function(){var e=[],n=[],t={resolve:function(n){for(var t=0;t<e.length;t++)e[t](n)},reject:function(e){for(var t=0;t<n.length;t++)n[t](e)},promise:m.prop()};return t.promise.resolvers=e,t.promise.then=function(t,r){var o=m.deferred();return t||(t=l),r||(r=l),e.push(function(e){var n=t(e);o.resolve(void 0!==n?n:e)}),n.push(function(e){var n=r(e);o.reject(void 0!==n?n:e)}),o.promise},t},m.sync=function(e){function n(n){return function(a){return o.push(a),n||(t="reject"),o.length==e.length&&(r.promise(o),r[t](o)),a}}for(var t="resolve",r=m.deferred(),o=[],a=0;a<e.length;a++)e[a].then(n(!0),n(!1));return r.promise},m.request=function(e){m.startComputation();var n=m.deferred(),t=e.serialize||JSON.stringify,r=e.deserialize||JSON.parse;return e.url=p(e.url,e.data),e=h(e,e.data,t),e.onload=e.onerror=function(t){var o=("load"==t.type?e.unwrapSuccess:e.unwrapError)||l,a=o(r(t.target.responseText));if(a instanceof Array&&e.type)for(var i=0;i<a.length;i++)a[i]=new e.type(a[i]);else e.type&&(a=new e.type(a));n.promise(a),n["load"==t.type?"resolve":"reject"](a),m.endComputation()},d(e),n.promise.then=v(n.promise),n.promise},m.deps=function(n){return e=n}}(this);
var c=document.getElementById("content"),list={controller:function(){this.list=[];for(var t=0;t<appUrls.length;t++)this.list.push(appUrls[t])},view:function(t){c.innerHTML="",m.render(c,[m("div.content",[t.list.map(function(t){return m("div.post",[m("h3",[m('a[href="'+t.url+'"].postlink',{config:m.route},[m("span.date",t.date+" - "),m("span.title",t.title)])])])})])])}},post={controller:function(){this.year=m.route.param("year"),this.month=m.route.param("month"),this.day=m.route.param("day"),this.file=m.route.param("file"),this.text="";var t=this;m.request({method:"GET",url:"/blog/"+this.year+"/"+this.month+"/"+this.day+"/"+this.file+"/index.html",deserialize:function(t){return t}}).then(function(e){t.text=e})},view:function(t){c.innerHTML="",m.render(c,[m("div.content",[m("div.post-full",m.trust(t.text))])])}};m.route.mode="hash",m.route(c,"/home",{"/home":list,"/blog/:year/:month/:day/:file":post});</script>
              {% endif %}

      <footer>
        Created by <a href="https://twitter.com/orkj">eiriksm</a>. <a href="https://github.com/eiriksm/kyll-thrill">Source code</a>.
      </footer>
    </body>

</html>
