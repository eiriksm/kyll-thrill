<!DOCTYPE html>
<html>
    <head>
      {% if site.env == 'development' %}
      <link rel="stylesheet" href="{{site.baseurl}}/themes/{{site.theme}}/styles/main.css">
      <link rel="stylesheet" href="{{site.baseurl}}/themes/{{site.theme}}/styles/syntax.css">
      {% else %}
      <style>*{margin:0;padding:0;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased}body,html{min-height:100%}img{max-width:100%}body{background-color:#FFF;font:18px Helvetica,Arial,sans-serif;color:#111}h1{margin-bottom:1em}p{margin:1em 0}.highlight{background:#ddd;padding:5px}#content{padding:1% 0;z-index:1;background:#fff;margin-top:120px;margin-bottom:120px}.content{width:98%;margin:0 1%;margin:0 auto}a,a:active,a:visited{text-decoration:none;color:#2A2C2B;border-bottom:1px #1F8A70 solid}.post{padding:1%;margin:2%;-webkit-transition:background-color .25s ease-in-out;transition:background-color .25s ease-in-out;border-radius:5px}.date{color:#1F8A70;font-size:.8rem}.postlink{display:block;border:none;color:#2A2C2B}footer{text-align:center;position:fixed;bottom:0;width:100%;background:#004358;height:50px;padding:20px 0;z-index:-1;color:#FFFAE7}footer.footer a{color:#FFFAE7}header{text-align:center;z-index:-2;position:absolute;height:100%;width:100%;top:0;overflow:hidden}.site-title{z-index:-1;position:absolute;width:100%;background:#1F8A70;height:30%;padding:3% 0}h1.site-title a{-webkit-transition:all .25s ease-in-out;transition:all .25s ease-in-out;height:160px;border-bottom:#FFFAE7 solid 1px;text-transform:uppercase;color:#FFFAE7;font-weight:lighter;text-shadow:0 0 3px #2A2C2B}h1.site-title a:hover{text-shadow:none;color:#2A2C2B}.highlight .c{color:#998;font-style:italic}.highlight .err{color:#a61717;background-color:#e3d2d2}.highlight .k,.highlight .o{font-weight:700}.highlight .cm{color:#998;font-style:italic}.highlight .cp{color:#999;font-weight:700}.highlight .c1{color:#998;font-style:italic}.highlight .cs{color:#999;font-weight:700;font-style:italic}.highlight .gd{color:#000;background-color:#fdd}.highlight .gd .x{color:#000;background-color:#faa}.highlight .ge{font-style:italic}.highlight .gr{color:#a00}.highlight .gh{color:#999}.highlight .gi{color:#000;background-color:#dfd}.highlight .gi .x{color:#000;background-color:#afa}.highlight .go{color:#888}.highlight .gp{color:#555}.highlight .gs{font-weight:700}.highlight .gu{color:#aaa}.highlight .gt{color:#a00}.highlight .kc,.highlight .kd,.highlight .kp,.highlight .kr{font-weight:700}.highlight .kt{color:#458;font-weight:700}.highlight .m{color:#099}.highlight .s{color:#d14}.highlight .na{color:teal}.highlight .nb{color:#0086B3}.highlight .nc{color:#458;font-weight:700}.highlight .no{color:teal}.highlight .ni{color:purple}.highlight .ne,.highlight .nf{color:#900;font-weight:700}.highlight .nn{color:#555}.highlight .nt{color:navy}.highlight .nv{color:teal}.highlight .ow{font-weight:700}.highlight .w{color:#bbb}.highlight .mf,.highlight .mh,.highlight .mi,.highlight .mo{color:#099}.highlight .s2,.highlight .sb,.highlight .sc,.highlight .sd,.highlight .se,.highlight .sh,.highlight .si,.highlight .sx{color:#d14}.highlight .sr{color:#009926}.highlight .s1{color:#d14}.highlight .ss{color:#990073}.highlight .bp{color:#999}.highlight .vc,.highlight .vg,.highlight .vi{color:teal}.highlight .il{color:#099}</style>
      {% endif %}
      <meta name="MobileOptimized" content="width">
      <meta name="HandheldFriendly" content="true">
      <meta name="viewport" content="width=device-width">
      <meta name="viewport" content="initial-scale=1">
      <meta http-equiv="cleartype" content="on">
      <title>{{site.title}}</title>
    </head>
    <body>
      <header>
        <h1 class="site-title"><a href="{{site.baseurl}}/">{{site.title}}</a></h1>
      </header>
      <div id="content"></div>
      {{content}}
      {% if site.env == 'development' %}
        <script src="/js/lib/mithril.js"></script>
        <script src="/js/src/app.js"></script>
      {% else %}

        <script>!new function(e){function n(o,i,a){if(null!==i&&void 0!==i){var u=y.call(a),c=y.call(i);if(u!=c&&(null!==a&&void 0!==a&&r(a.nodes),a=new i.constructor,a.nodes=[]),"[object Array]"==c){for(var s=[],l=a.length===i.length,d=0;d<i.length;d++){var f=n(o,i[d],a[d]);void 0!==f&&(f.nodes.intact||(l=!1),a[d]=f)}if(!l){for(var d=0;d<i.length;d++)void 0!==a[d]&&(s=s.concat(a[d].nodes));for(var m,d=s.length;m=a.nodes[d];d++)null!==m.parentNode&&m.parentNode.removeChild(m);for(var m,d=a.nodes.length;m=s[d];d++)null===m.parentNode&&o.appendChild(m);a.length=i.length,a.nodes=s}}else if("[object Object]"==c){if("string"!=typeof i.tag)return;(i.tag!=a.tag||Object.keys(i.attrs).join()!=Object.keys(a.attrs).join())&&r(a.nodes);var m,h=0===a.nodes.length;h?(m=e.document.createElement(i.tag),a={tag:i.tag,attrs:t(m,i.attrs,{}),children:n(m,i.children,a.children),nodes:[m]},o.appendChild(m)):(m=a.nodes[0],t(m,i.attrs,a.attrs),a.children=n(m,i.children,a.children),a.nodes.intact=!0),"[object Function]"==y.call(i.attrs.config)&&i.attrs.config(m,!h)}else{var m;if(0===a.nodes.length){if(i.$trusted){var p=o.lastChild;o.insertAdjacentHTML("beforeend",i),m=p?p.nextSibling:o.firstChild}else m=e.document.createTextNode(i),o.appendChild(m);a="string number boolean".indexOf(typeof i)>-1?new i.constructor(i):i,a.nodes=[m]}else if(a.valueOf()!==i.valueOf()){if(i.$trusted){var v=a.nodes[0],s=[v];if(v){for(;v=v.nextSibling;)s.push(v);r(s);var p=o.lastChild;o.insertAdjacentHTML("beforeend",i),m=p?p.nextSibling:o.firstChild}else o.innerHTML=i}else m=a.nodes[0],o.appendChild(m),m.nodeValue=i;a=new i.constructor(i),a.nodes=[m]}else a.nodes.intact=!0}return a}}function t(e,n,t){for(var r in n){var o=n[r];if(!(r in t)||t[r]!==o){if(t[r]=o,"config"==r)continue;if(0==r.indexOf("on")&&"function"==typeof o&&(o=i(o,e)),"style"==r)for(var a in o)e.style[a]=o[a];else r in e?e[r]=o:e.setAttribute(r,o)}}return t}function r(e){for(var n=0;n<e.length;n++)e[n].parentNode.removeChild(e[n]);e.length=0}function o(e){var n={};for(var t in e)n[t]=e[t];return n}function i(n,t){return function(){m.startComputation();var r=n.apply(t||e,arguments);return m.endComputation(),r}}function a(){if(S=e.performance&&e.performance.now?e.performance.now():(new e.Date).getTime(),S-L>16)m.redraw();else{var n=e.cancelAnimationFrame||e.clearTimeout,t=e.requestAnimationFrame||e.setTimeout;n(N),N=t(m.redraw,0)}}function u(e,n,t){q={};for(var r in n){if(r==t)return!void m.module(e,n[r]);var o=new RegExp("^"+r.replace(/:[^\/]+/g,"([^\\/]+)")+"$");if(o.test(t))return!void t.replace(o,function(){for(var t=r.match(/:[^\/]+/g),o=[].slice.call(arguments,1,-2),i=0;i<t.length;i++)q[t[i].slice(1)]=o[i];m.module(e,n[r])})}}function c(e){e.preventDefault(),m.route(e.currentTarget.getAttribute("href"))}function s(){"hash"!=m.route.mode&&e.location.hash&&(e.location.hash=e.location.hash)}function l(e){return e}function d(n){var t=e.XDomainRequest?new e.XDomainRequest:new e.XMLHttpRequest;return t.open(n.method,n.url,!0,n.user,n.password),t.onload="function"==typeof n.onload?n.onload:function(){},t.onerror="function"==typeof n.onerror?n.onerror:function(){},"function"==typeof n.config&&n.config(t,n),t.send(n.data),t}function f(e,n){var t=[];for(var r in e){var o=n?n+"["+r+"]":r,i=e[r];t.push("object"==typeof i?f(i,o):encodeURIComponent(o)+"="+encodeURIComponent(i))}return t.join("&")}function h(e,n,t){return n&&Object.keys(n).length>0&&("GET"==e.method?e.url=e.url+(e.url.indexOf("?")<0?"?":"&")+f(n):e.data=t(n)),e}function p(e,n){var t=e.match(/:\w+/g);if(t&&n)for(var r=0;r<t.length;r++){var o=t[r].slice(1);e=e.replace(t[r],n[o]),delete n[o]}return e}function v(e){var n=e.then;return function(e,t){var r=n(function(n){return r(e(n))},function(e){return r(t(e))});return r.then=v(r),r}}var g={},y={}.toString,w=/(?:(^|#|\.)([^#\.\[\]]+))|(\[.+?\])/g,C=/\[(.+?)(?:=("|'|)(.+?)\2)?\]/;Mithril=m=function(){var e=arguments,n="[object Object]"==y.call(e[1]),t=n?e[1]:{},r="class"in t?"class":"className",i=g[e[0]];if(void 0===i){g[e[0]]=i={tag:"div",attrs:{}};for(var a,u=[];a=w.exec(e[0]);)if(""==a[1])i.tag=a[2];else if("#"==a[1])i.attrs.id=a[2];else if("."==a[1])u.push(a[2]);else if("["==a[3][0]){var c=C.exec(a[3]);i.attrs[c[1]]=c[3]||!0}u.length>0&&(i.attrs[r]=u.join(" "))}i=o(i),i.attrs=o(i.attrs),i.children=n?e[2]:e[1];for(var s in t)i.attrs[s]=s==r?(i.attrs[s]||"")+" "+t[s]:t[s];return i};var j,b={insertAdjacentHTML:function(n,t){e.document.write(t),e.document.close()},appendChild:function(n){void 0===j&&(j=e.document.createElement("html")),"HTML"==n.nodeName?j=n:j.appendChild(n),e.document.documentElement!==j&&e.document.replaceChild(j,e.document.documentElement)}},T=[],x={};m.render=function(t,r){var o=T.indexOf(t),i=0>o?T.push(t)-1:o,a=t==e.document||t==e.document.documentElement?b:t;x[i]=n(a,r,x[i])},m.trust=function(e){return e=new String(e),e.$trusted=!0,e};var O,A={view:function(){}},E={},S=0,L=0,N=0;m.module=function(e,n){m.startComputation(),O=e,A=n,E=new n.controller,m.endComputation()},m.redraw=function(){m.render(O||e.document,A.view(E)),L=S};var M=0,H=null;m.startComputation=function(){M++},m.endComputation=function(){M=Math.max(M-1,0),0==M&&(a(),H&&(H(),H=null))},m.withAttr=function(e,n){return function(t){n(e in t.currentTarget?t.currentTarget[e]:t.currentTarget.getAttribute(e))}};var R={pathname:"",hash:"#",search:"?"},k=function(){},q={};m.route=function(){if(3==arguments.length){var n=arguments[0],t=arguments[1],r=arguments[2];k=function(e){var o=e.slice(R[m.route.mode].length);u(n,r,o)||m.route(t,!0)};var o="hash"==m.route.mode?"onhashchange":"onpopstate";e[o]=function(){k(e.location[m.route.mode])},H=s,e[o]()}else if(arguments[0].addEventListener){var i=arguments[0],a=arguments[1];a||(i.removeEventListener("click",c),i.addEventListener("click",c))}else if("string"==typeof arguments[0]){var l=arguments[0],d=arguments[1]===!0;e.history.pushState?(H=function(){e.history[d?"replaceState":"pushState"](null,e.document.title,R[m.route.mode]+l),s()},k(R[m.route.mode]+l)):e.location[m.route.mode]=l}},m.route.param=function(e){return q[e]},m.route.mode="search",m.prop=function(e){return function(){return arguments.length&&(e=arguments[0]),e}},m.deferred=function(){var e=[],n=[],t={resolve:function(n){for(var t=0;t<e.length;t++)e[t](n)},reject:function(e){for(var t=0;t<n.length;t++)n[t](e)},promise:m.prop()};return t.promise.resolvers=e,t.promise.then=function(t,r){var o=m.deferred();return t||(t=l),r||(r=l),e.push(function(e){var n=t(e);o.resolve(void 0!==n?n:e)}),n.push(function(e){var n=r(e);o.reject(void 0!==n?n:e)}),o.promise},t},m.sync=function(e){function n(n){return function(i){return o.push(i),n||(t="reject"),o.length==e.length&&(r.promise(o),r[t](o)),i}}for(var t="resolve",r=m.deferred(),o=[],i=0;i<e.length;i++)e[i].then(n(!0),n(!1));return r.promise},m.request=function(e){m.startComputation();var n=m.deferred(),t=e.serialize||JSON.stringify,r=e.deserialize||JSON.parse;return e.url=p(e.url,e.data),e=h(e,e.data,t),e.onload=e.onerror=function(t){var o=("load"==t.type?e.unwrapSuccess:e.unwrapError)||l,i=o(r(t.target.responseText));if(i instanceof Array&&e.type)for(var a=0;a<i.length;a++)i[a]=new e.type(i[a]);else e.type&&(i=new e.type(i));n.promise(i),n["load"==t.type?"resolve":"reject"](i),m.endComputation()},d(e),n.promise.then=v(n.promise),n.promise},m.deps=function(n){return e=n}}(this);
var c=document.getElementById("content"),list={controller:function(){if(window&&window.localStorage&&window.localStorage.getItem("redirect")){var t=window.localStorage.getItem("redirect");window.localStorage.clear("redirect"),setTimeout(function(){m.route(t)},10)}this.list=[];for(var e=0;e<appUrls.length;e++)this.list.push(appUrls[e])},view:function(t){return m("div.content",[t.list.map(function(t){return m("div.post",[m('a[href="'+baseUrl+t.url+'"].postlink',{config:m.route},[m("h2",[m("span.title",t.title)]),m("span.date",t.date)])])})])}},post={controller:function(){this.year=m.route.param("year"),this.month=m.route.param("month"),this.day=m.route.param("day"),this.file=m.route.param("file"),this.text="";var t=this;m.request({method:"GET",url:baseUrl+"/blog/"+this.year+"/"+this.month+"/"+this.day+"/"+this.file+"/index.html",deserialize:function(t){return t}}).then(function(e){t.text=e})},view:function(t){return m("div.content",[m("div.post-full",m.trust(t.text))])}};m.route.mode="pathname";var routeConf={};routeConf["/"]=list,routeConf[baseUrl+"/"]=list,routeConf["/blog/:year/:month/:day/:file"]=post,routeConf["/blog/:year/:month/:day/:file/"]=post,routeConf[baseUrl+"/blog/:year/:month/:day/:file"]=post,routeConf[baseUrl+"/blog/:year/:month/:day/:file/"]=post,m.route(c,baseUrl+"/",routeConf);var body=document.body,html=document.documentElement,height=Math.max(body.scrollHeight,body.offsetHeight,html.clientHeight,html.scrollHeight,html.offsetHeight);height>window.innerHeight&&(document.getElementsByTagName("footer")[0].style.opacity=0),window.onscroll=function(){height=Math.max(body.scrollHeight,body.offsetHeight,html.clientHeight,html.scrollHeight,html.offsetHeight);var t=window.scrollY,e=document.getElementsByClassName("site-title")[0],o=window.innerHeight/4;e.style.opacity=1-t/o,t>=height-window.innerHeight-100&&document.getElementsByTagName("footer")[0].setAttribute("style","opacity: "+(1+(t-(height-window.innerHeight))/100))};</script>
      {% endif %}

      <footer class="footer">
        Created by <a href="https://twitter.com/orkj">eiriksm</a>. <a href="https://github.com/eiriksm/kyll-thrill">Source code</a>.
      </footer>
    </body>

</html>
